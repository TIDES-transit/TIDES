{
  "primaryKey": "transaction_id",
  "missingValues": [
    "NaN",
    ""
  ],
  "fields": [
    {
      "name": "date",
      "type": "date",
      "required": "required",
      "description": "Service date.",
      "external_reference": "GTFS"
    },
    {
      "name": "timestamp",
      "type": "POSIX time",
      "required": "required",
      "description": "Recorded event time, including for transactions that may be aggregated values associated with a trip or vehicle.",
      "external_reference": null
    },
    {
      "name": "transaction_id",
      "type": "ID",
      "required": "required",
      "description": "Identifies the fare transaction.",
      "external_reference": null
    },
    {
      "name": "amount",
      "type": "currency",
      "required": "required",
      "description": "Value of the transaction.",
      "external_reference": null
    },
    {
      "name": "currency_type",
      "type": "currency code",
      "required": "required",
      "description": "Currency used for the transaction.",
      "external_reference": "GTFS"
    },
    {
      "name": "fare_action",
      "type": "enum",
      "required": "required",
      "description": "Indicates the type of action performed. Valid options are:\n0 - Unknown action type.\n1 - Purchase.\n2 - Enter (enter fare-controlled area or vehicle).\n3 - Exit (exit fare-controlled area or vehicle).\n4 - Transfer entrance.\n5 - Transfer exit.\n6 - Add (add stored value).\n7 - Activate (activate a fare pass).\n8 - Adjust (adjustment initiated by system or customer support).\n9 - Other.",
      "external_reference": null
    },
    {
      "name": "trip_id_performed",
      "type": "ID referencing Trips_performed.trip_id_performed",
      "required": "conditionally required",
      "description": "Identifies the trip performed. May be null if the fare collection device is NOT located on a vehicle. May be null if on a vehicle but trip-level data is unavailable, in which case the data would be associated with the vehicle.",
      "external_reference": null
    },
    {
      "name": "stop_sequence",
      "type": "positive integer referencing stop_times.stop_sequence",
      "required": "conditionally required",
      "description": "Ordered stop the vehicle is serving on a particular trip. May be null if the fare collection device is NOT located on a vehicle. May be null if on a vehicle but stop-level data is unavailable, in which case the data would be associated with the vehicle and/or trip.",
      "external_reference": "GTFS"
    },
    {
      "name": "vehicle_id",
      "type": "ID referencing vehicles.vehicle_id",
      "required": "conditionally required",
      "description": "Identifies the vehicle. May be null if collection device is NOT located on a vehicle. May be null if on a vehicle but vehicle data is unavailable, in which case the data would be associated with a trip and/or stop.",
      "external_reference": null
    },
    {
      "name": "device_id",
      "type": "ID referencing devices.device_id",
      "required": "conditionally required",
      "description": "Identifies the ITS device on which the fare transaction was performed. May be null if only a single device is reporting fare transactions on a vehicle and vehicle_id is provided. May be null if only a single device is reporting fare transactions at a stop and stop_id is provided.",
      "external_reference": null
    },
    {
      "name": "fare_id",
      "type": "ID referencing Fare_attributes.fare_id",
      "required": "optional",
      "description": "Identifies a fare class, as included in the GTFS Fare_attributes file.",
      "external_reference": "GTFS"
    },
    {
      "name": "stop_id",
      "type": "ID referencing stops.stop_id",
      "required": "optional",
      "description": "Identifies the stop.",
      "external_reference": "GTFS"
    },
    {
      "name": "group_size",
      "type": "positive integer",
      "required": "optional",
      "description": "The number of customers included in the transaction.",
      "external_reference": null
    },
    {
      "name": "media_type",
      "type": "enum",
      "required": "optional",
      "description": "Indicates the fare medium that was used for the transaction. Valid options are:\n0 - Cash or coins.\n1 - Smart card or ticket.\n2 - Magnetic-stripe card or ticket.\n3 - Bank card (credit or debit card).\n4 - Mobile NFC (smartphone tap, etc.).\n5 - Optical scan (of mobile app screen or paper ticket).\n6 - Button pressed by driver or operator to indicate a boarding or alighting passenger.\n7 - Other type.",
      "external_reference": null
    },
    {
      "name": "rider_category",
      "type": "text",
      "required": "optional",
      "description": "Indicates rider category (categories defined by transit agency). For example:\nAdult\nYouth\nStudent\nSenior\nOther reduced",
      "external_reference": null
    },
    {
      "name": "fare_product",
      "type": "text",
      "required": "optional",
      "description": "Indicates the fare group (fare groups defined by transit agency). For example:\nSingle ride\nPass\nEmployer sponsored\nOther pass",
      "external_reference": null
    },
    {
      "name": "fare_period",
      "type": "text",
      "required": "optional",
      "description": "Indicates the fare period (fare periods defined by transit agency). For example:\nAll day\nPeak\nOff-peak\nSummer\nOther",
      "external_reference": null
    },
    {
      "name": "fare_capped",
      "type": "enum",
      "required": "optional",
      "description": "Indicates if fare capping is in effect (fare capping options defined by transit agency). Valid options are:\n0 - Fare is not capped.\n1 - Fare is capped.",
      "external_reference": null
    },
    {
      "name": "fare_media_id",
      "type": "ID",
      "required": "optional",
      "description": "Identifies the individual fare medium used for the transaction. For example, the fare card ID.",
      "external_reference": null
    },
    {
      "name": "fare_media_id_purchased",
      "type": "ID",
      "required": "optional",
      "description": "Identifies the individual fare medium purchased in the transaction. For example, the fare card ID.",
      "external_reference": null
    },
    {
      "name": "balance",
      "type": "float",
      "required": "optional",
      "description": "Stored value remaining on an account after the transaction is made.",
      "external_reference": null
    }
  ],
  "name": "fare_transactions.schema.json",
  "description": "Timestamped fare transaction, associated with devices."
}
