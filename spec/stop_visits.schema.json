{
  "primaryKey": [
    "date",
    "trip_id_performed",
    "stop_sequence",
    "vehicle_id"
  ],
  "missingValues": [
    "NaN",
    ""
  ],
  "fields": [
    {
      "name": "date",
      "type": "date",
      "description": "Service date. References GTFS",
      "constraints": {
        "required": true
      }
    },
    {
      "name": "trip_id_performed",
      "type": "string",
      "title": "ID referencing trips_performed.trip_id_performed",
      "description": "Identifies the trip performed.",
      "constraints": {
        "required": true
      }
    },
    {
      "name": "stop_sequence",
      "type": "integer",
      "title": "positive integer referencing stop_times.stop_sequence",
      "description": "Ordered stop the vehicle is serving on a particular trip. References GTFS",
      "constraints": {
        "required": true,
        "minimum": 0
      }
    },
    {
      "name": "vehicle_id",
      "type": "string",
      "title": "ID referencing vehicles.vehicle_id",
      "description": "Identifies the vehicle.",
      "constraints": {
        "required": true
      }
    },
    {
      "name": "dwell",
      "type": "integer",
      "description": "Indicates the amount of time a vehicle spent stopped at a stop in seconds."
    },
    {
      "name": "stop_id",
      "type": "string",
      "title": "ID referencing stops.stop_id from GTFS",
      "description": "Identifies the stop."
    },
    {
      "name": "checkpoint",
      "type": "integer",
      "description": "Indicates of the stop should be used for evaluating schedule adherence, on-time performance, and other KPIs. This could be populated to match the GTFS “timepoint” field. Valid options are:\n0 - Stop is not used in evaluating KPIs.\n1 or empty - Stop is used in evaluating KPIs.",
      "constraints": {
        "enum": [
          0,
          1
        ]
      }
    },
    {
      "name": "schedule_arrival_time",
      "type": "time",
      "description": "Scheduled time at which the vehicle arrives at a stop. References GTFS"
    },
    {
      "name": "schedule_departure_time",
      "type": "time",
      "description": "Scheduled time at which the vehicle departs from a stop. References GTFS"
    },
    {
      "name": "actual_arrival_time",
      "type": "time",
      "description": "Time at which the vehicle arrives at a stop."
    },
    {
      "name": "actual_departure_time",
      "type": "time",
      "description": "Time at which the vehicle departs from a stop."
    },
    {
      "name": "distance",
      "type": "integer",
      "description": "Observed distance in meters from the previous stop traveled by the vehicle."
    },
    {
      "name": "boarding_1",
      "type": "integer",
      "description": "Number of riders that entered the front-most or right-most door of the vehicle"
    },
    {
      "name": "alighting_1",
      "type": "integer",
      "description": "Number of riders that exited the front-most or right-most door of the vehicle"
    },
    {
      "name": "boarding_2",
      "type": "integer",
      "description": "Number of riders that entered the rest of the vehicle’s doors."
    },
    {
      "name": "alighting_2",
      "type": "integer",
      "description": "Number of riders that exited the rest of the vehicle’s doors."
    },
    {
      "name": "load",
      "type": "integer",
      "description": "Number of riders on the vehicle when departing the stop."
    },
    {
      "name": "door_open",
      "type": "time",
      "description": "Time at which the doors opened."
    },
    {
      "name": "door_close",
      "type": "time",
      "description": "Time at which the doors closed."
    },
    {
      "name": "door_status",
      "type": "string",
      "description": "Indicates actions of the doors during the stop visit. For example:\n-Doors did not open\n-Front door opened and back doors remain closed\n-Back doors opened and front door remained closed\n-All doors opened\n-Other configuration"
    },
    {
      "name": "ramp_deployed_time",
      "type": "number",
      "description": "Duration of time a ramp is deployed, in seconds."
    },
    {
      "name": "ramp_failure",
      "type": "integer",
      "description": "Indicates if the ramp deployment failed at a stop. Valid options are:\n 0 - Ramp deployment successful.\n 1 - Ramp deployment failed.",
      "constraints": {
        "enum": [
          0,
          1
        ]
      }
    },
    {
      "name": "kneel_deployed_time",
      "type": "number",
      "description": "Duration of time a kneel is deployed in seconds."
    },
    {
      "name": "lift_deployed_time",
      "type": "number",
      "description": "Duration of time in seconds of time a lift is deployed."
    },
    {
      "name": "bike_rack_deployed",
      "type": "integer",
      "description": "Indicates if the bike rack was deployed at a stop. Valid options are:\n0 - Bike rack was not deployed.\n1 - Bike rack was deployed.",
      "constraints": {
        "enum": [
          0,
          1
        ]
      }
    },
    {
      "name": "bike_load",
      "type": "integer",
      "description": "Number of bikes on the vehicle when departing the stop."
    },
    {
      "name": "revenue",
      "type": "number",
      "description": "Amount of revenue collected at the stop."
    },
    {
      "name": "number_of_transactions",
      "type": "integer",
      "description": "Number of fare transactions that occurred at a stop.",
      "constraints": {
        "minimum": 0
      }
    },
    {
      "name": "transaction_revenue_x",
      "type": "number",
      "description": "Indicates the revenue from a specified fare medium. For example, cash revenue would be represented by the field name transaction_revenue_0. Valid values for x are:\n0 - Cash or coins.\n1 - Smart card or ticket.\n2 - Magnetic-stripe card or ticket.\n3 - Bank card (credit or debit card).\n4 - Mobile NFC (smartphone tap, etc.).\n5 - Optical scan (of mobile app screen or paper ticket).\n6 - Button pressed by driver or operator to indicate a boarding or alighting passenger.\n7 - Other type."
    },
    {
      "name": "transaction_count_x",
      "type": "Non-negative integer",
      "description": "Number of fare transactions made by a specified fare medium. For example, the count of cash transactions would be represented by the field name transaction_count_0.\nValid values for x are:\n0 - Cash or coins.\n1 - Smart card or ticket.\n2 - Magnetic-stripe card or ticket.\n3 - Bank card (credit or debit card).\n4 - Mobile NFC (smartphone tap, etc.).\n5 - Optical scan (of mobile app screen or paper ticket).\n6 - Button pressed by driver or operator to indicate a boarding or alighting passenger.\n7 - Other type."
    },
    {
      "name": "schedule_relationship",
      "type": "integer",
      "description": "Indicates the status of stop’s service on the trip. Valid options are:\n 0 - Scheduled.\n 1 - Skipped.\n 2 - Missing data.\n 3 - Unscheduled.\n 4 - Canceled.\n 5 - Duplicated.\n 6 - Schedule modified. (Note: schedule_arrival_time and schedule_departure_time may differ from GTFS in this case.)",
      "constraints": {
        "enum": [
          0,
          1,
          2,
          3,
          4,
          5,
          6
        ]
      }
    }
  ],
  "foreignKeys": [
    {
      "fields": "trip_id_performed",
      "reference": {
        "resource": "trips_performed",
        "fields": "trip_id_performed"
      }
    },
    {
      "fields": "stop_sequence",
      "reference": {
        "resource": "stop_times",
        "fields": "stop_sequence"
      }
    },
    {
      "fields": "vehicle_id",
      "reference": {
        "resource": "vehicles",
        "fields": "vehicle_id"
      }
    }
  ],
  "name": "stop_visits.schema.json",
  "description": "Summarized boarding, alighting, arrival, departure, and other events (kneel engaged, ramp deployed, etc.) by trip and stop for each service date."
}